{"title":"The Zen of Preact's source code","description":"Dive into Preact's source code and explore its simplicity","date":"23 April, 2021","cover_image":"media/deep-dive-preact-source--cover.jpg","body":"<p><img src=\"\" alt=\"\" class=\"feature-image\" style=\"display: none;\"></p><div class=\"picture-container\">\n  <figure style=\"width: 100%;padding-top: 75%;background-color: rgb(123, 166, 204)\">\n    <picture>\n      <source type=\"image/webp\" media=\"(min-width: 501px)\" data-srcset=\"media/deep-dive-preact-source--cover/large.webp\">\n      <source type=\"image/webp\" media=\"(max-width: 500px)\" data-srcset=\"media/deep-dive-preact-source--cover/small.webp\">\n      <source type=\"image/jpg\" media=\"(min-width: 501px)\" data-srcset=\"media/deep-dive-preact-source--cover/large.jpg\">\n      <source type=\"image/jpg\" media=\"(max-width: 500px)\" data-srcset=\"media/deep-dive-preact-source--cover/small.jpg\">\n      <img alt=\"Placeholder\" data-src=\"media/deep-dive-preact-source--cover/large.jpg\" class=\"lazyload blog-img\">\n    </picture>\n  </figure>\n  </div><p></p>\n<blockquote>\n<p><em>Artwork by <a href=\"https://unsplash.com/photos/GxymWkdnl4Y\" target=\"_blank\" rel=\"noopener\">Fernando Jorge</a></em></p>\n</blockquote>\n<p>Preact is [web dev]household name at this point. Almost every web developer who's been in tis business for longer than 2 years has heard of it and maybe even tried it themselves. And probably reached the same conclusion as me: <strong>It's awesome!! <img class=\"emoji\" draggable=\"false\" alt=\"ðŸ˜»\" src=\"https://twemoji.maxcdn.com/v/13.0.2/svg/1f63b.svg\"></strong>.</p>\n<p>So today, I'm gonna do a deep dive into Preact's source code, and remark on interesting things I find there.</p>\n<h1 id=\"What-is-Preact\"><a class=\"heading-link\" href=\"blog/deep-dive-into-preact-source-code#What-is-Preact\">#</a>What is Preact?</h1>\n<p>In case you're not familiar, Preact is the <code>3Kb</code> alternative to the <code>42KB</code> of React, by <a href=\"https://twitter.com/_developit\" target=\"_blank\" rel=\"noopener\">Jason Miller</a>. It's fully compatible with React's API and supports all packages that rely on React. Its awesome that way.</p>\n<h1 id=\"Observations\"><a class=\"heading-link\" href=\"blog/deep-dive-into-preact-source-code#Observations\">#</a>Observations</h1>\n<p>Before we look at the code, I'll remark on some things about Preact.</p>\n<h2 id=\"Written-in-TypeScript-but-not-quite...\"><a class=\"heading-link\" href=\"blog/deep-dive-into-preact-source-code#Written-in-TypeScript-but-not-quite...\">#</a>Written in TypeScript, but not quite...</h2>\n<p>Preact source code is written in TypeScript, but the main files themselves aren't. The main files with the functionality are written in plain JavaScript, but they use <code>JSDoc</code> to pull in Types from TypeScript Definition files (.d.ts).</p>\n<p>An example:</p>\n<p>This is the <code>.d.ts</code> file:</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #A6ACCD\">declare function sum(a: number, b: number): number;</span></span></code></pre>\n","id":"deep-dive-into-preact-source-code","reading_time":0.6175,"toc":[{"indent":0,"id":"","title":"What is Preact?","length":15},{"indent":0,"id":"","title":"Observations","length":12},{"indent":1,"id":"","title":"Written in TypeScript, but not quite...","length":39}]}