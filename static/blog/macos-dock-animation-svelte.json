{"title":"Amazing macOS Dock animation in Svelte","description":"Let's make the beautiful macOS Dock animation using Svelte","date":"2 April 2021","cover_image":"media/macos-dock-animation-svelte--cover.png","body":"<p><img src=\"\" alt=\"\" class=\"feature-image\" style=\"display: none;\"></p><div class=\"picture-container\">\n  <figure style=\"width: 100%;padding-top: 50%;background-color: rgb(122, 23, 42)\">\n    <picture>\n      <source type=\"image/webp\" media=\"(min-width: 501px)\" data-srcset=\"media/macos-dock-animation-svelte--cover/large.webp\">\n      <source type=\"image/webp\" media=\"(max-width: 500px)\" data-srcset=\"media/macos-dock-animation-svelte--cover/small.webp\">\n      <source type=\"image/png\" media=\"(min-width: 501px)\" data-srcset=\"media/macos-dock-animation-svelte--cover/large.png\">\n      <source type=\"image/png\" media=\"(max-width: 500px)\" data-srcset=\"media/macos-dock-animation-svelte--cover/small.png\">\n      <img alt=\"Placeholder\" data-src=\"media/macos-dock-animation-svelte--cover/large.png\" class=\"lazyload blog-img\">\n    </picture>\n  </figure>\n  </div><p></p>\n<p>macOS Dock, when you hover over it, has such a good feedback animation. The current icon your cursor is over becomes big, and the nearby icons become bigger too, but as you move your cursor, the icons' size changes based on distance from your cursor, kinda like this below <img class=\"emoji\" draggable=\"false\" alt=\"👇\" src=\"https://twemoji.maxcdn.com/v/13.0.1/svg/1f447.svg\"></p>\n<p><img src=\"\" alt=\"\" class=\"feature-image\" style=\"display: none;\"></p><div class=\"picture-container\">\n  <div class=\"gif-vid-container\">\n    <video autoplay=\"\" loop=\"\" muted=\"\" playsinline=\"\">\n      <source src=\"/media/macos-dock-animation-svelte--animation-preview/vidgif.mp4\" type=\"video/mp4\">\n      Your browser doesn't support HTML5 video playback. <a href=\"/media/macos-dock-animation-svelte--animation-preview.gif\" target=\"_blank\" rel=\"noopener\">See the gif here</a>\n    </video>\n  </div>\n  </div><p></p>\n<p>Pardon the bad quality <img class=\"emoji\" draggable=\"false\" alt=\"😁\" src=\"https://twemoji.maxcdn.com/v/13.0.1/svg/1f601.svg\">. Pretty slick, right? So interactive, so playful, its just freaking good <img class=\"emoji\" draggable=\"false\" alt=\"😍\" src=\"https://twemoji.maxcdn.com/v/13.0.1/svg/1f60d.svg\"></p>\n<p>But here's a twist. <strong>That isn't macOS</strong>. There are no tooltips, no desktop icons, even the animation looks bouncier.</p>\n<p>Ladies and Gentlemen, what you see above is the final product we're gonna make in this blog post using Svelte. <strong>In less than 100 lines of logic <img class=\"emoji\" draggable=\"false\" alt=\"😎\" src=\"https://twemoji.maxcdn.com/v/13.0.1/svg/1f60e.svg\"></strong></p>\n<h2 id=\"That-looks-way-too-good-for-just-100-lines\"><a class=\"heading-link\" href=\"blog/macos-dock-animation-svelte#That-looks-way-too-good-for-just-100-lines\">#</a>That looks way too good for just 100 lines <img class=\"emoji\" draggable=\"false\" alt=\"🧐\" src=\"https://twemoji.maxcdn.com/v/13.0.1/svg/1f9d0.svg\"><img class=\"emoji\" draggable=\"false\" alt=\"🧐\" src=\"https://twemoji.maxcdn.com/v/13.0.1/svg/1f9d0.svg\"></h2>\n<p>I know!! That's the beauty of Svelte <img class=\"emoji\" draggable=\"false\" alt=\"😌\" src=\"https://twemoji.maxcdn.com/v/13.0.1/svg/1f60c.svg\"></p>\n<p>Don't believe me? You can check it out right here: <a href=\"https://macos-web-svelte-dock-puruvj.vercel.app/\" target=\"_blank\" rel=\"noopener\">Demo</a>. <br>\nAnd here's the original source code @ Github: <a href=\"https://github.com/PuruVJ/macos-web-svelte-dock\" target=\"_blank\" rel=\"noopener\">Source</a></p>\n<p>Feel free to read the source code directly, if you feel like you can understand what is going on just from reading the source. And if you can't, no problem, that's what this article is for <img class=\"emoji\" draggable=\"false\" alt=\"😎\" src=\"https://twemoji.maxcdn.com/v/13.0.1/svg/1f60e.svg\"></p>\n<p>Let's dive into it!!</p>\n<h1 id=\"Tech-Stack\"><a class=\"heading-link\" href=\"blog/macos-dock-animation-svelte#Tech-Stack\">#</a>Tech Stack</h1>\n<p>Here's what the tech stack is gonna be for this little demo:</p>\n<ul>\n<li>Svelte</li>\n<li>Typescript 4</li>\n<li>Vite</li>\n</ul>\n<h2 id=\"What's-with-Vite\"><a class=\"heading-link\" href=\"blog/macos-dock-animation-svelte#What's-with-Vite\">#</a>What's with Vite? <img class=\"emoji\" draggable=\"false\" alt=\"🤔\" src=\"https://twemoji.maxcdn.com/v/13.0.1/svg/1f914.svg\"></h2>\n<p>Vite is the new cool kid in the block <img class=\"emoji\" draggable=\"false\" alt=\"😎\" src=\"https://twemoji.maxcdn.com/v/13.0.1/svg/1f60e.svg\">. Its basically a bundler and dev server like Webpack(With the Dev Server plugin), only it comes with everything pre-built and pre-configured, so you can jump into the code directly.</p>\n<p>It won't change how we write the code, only the way we refer to our assets changes a bit, so you don't have to worry about it much.</p>\n<h1 id=\"Preliminary-setup\"><a class=\"heading-link\" href=\"blog/macos-dock-animation-svelte#Preliminary-setup\">#</a>Preliminary setup</h1>\n<p>Our demo won't look good without that slick background and the great CSS everywhere. So let's set up the basic shell of our application.</p>\n<p>So let's start with the root component.</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #676E95\">&lt;!-- App.svelte --&gt;</span></span>\n\n<span class=\"line\"><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">script</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">import</span><span style=\"color: #A6ACCD\"> Dock </span><span style=\"color: #89DDFF\">from</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">./lib/Dock.svelte</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">script</span><span style=\"color: #89DDFF\">&gt;</span></span>\n\n<span class=\"line\"><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">main</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">Dock</span><span style=\"color: #89DDFF\"> /&gt;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">main</span><span style=\"color: #89DDFF\">&gt;</span></span>\n\n<span class=\"line\"><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">style</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #FFCB6B\">main</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #B2CCD6\">max-width</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #F78C6C\">100vw</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #B2CCD6\">height</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #F78C6C\">100vh</span><span style=\"color: #89DDFF\">;</span></span>\n\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #B2CCD6\">background</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #82AAFF\">url</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">/wallpaper.jpg</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #B2CCD6\">background-size</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> cover</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #B2CCD6\">background-position</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> center center</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">style</span><span style=\"color: #89DDFF\">&gt;</span></span></code></pre>\n<p>Let's break it down</p>\n<ol>\n<li>\n<p>We're importing the <code>Dock</code> component. It's not declared yet, so there will be red squiggles in there. We'll declare it in a moment.</p>\n</li>\n<li>\n<p>We have a <code>main</code> tag enclosing the <code>Dock</code> element.</p>\n</li>\n<li>\n<p>We have our styles here. These are simply set so that the beautiful macOS Big Sur wallpaper takes up all the space and adjusts to different viewport sizes gracefully.</p>\n</li>\n</ol>\n<p>So we end with this beautiful view <img class=\"emoji\" draggable=\"false\" alt=\"👇\" src=\"https://twemoji.maxcdn.com/v/13.0.1/svg/1f447.svg\"></p>\n<p><img src=\"\" alt=\"\" class=\"feature-image\" style=\"display: none;\"></p><div class=\"picture-container\">\n  <figure style=\"width: 100%;padding-top: 56.25%;background-color: rgb(108, 33, 69)\">\n    <picture>\n      <source type=\"image/webp\" media=\"(min-width: 501px)\" data-srcset=\"media/macos-dock-animation-svelte--scaffold-wallpaper/large.webp\">\n      <source type=\"image/webp\" media=\"(max-width: 500px)\" data-srcset=\"media/macos-dock-animation-svelte--scaffold-wallpaper/small.webp\">\n      <source type=\"image/png\" media=\"(min-width: 501px)\" data-srcset=\"media/macos-dock-animation-svelte--scaffold-wallpaper/large.png\">\n      <source type=\"image/png\" media=\"(max-width: 500px)\" data-srcset=\"media/macos-dock-animation-svelte--scaffold-wallpaper/small.png\">\n      <img alt=\"Placeholder\" data-src=\"media/macos-dock-animation-svelte--scaffold-wallpaper/large.png\" class=\"lazyload blog-img\">\n    </picture>\n  </figure>\n  </div><p></p>\n<blockquote>\n<p>Notice we're referencing <code>wallpaper.jpg</code> as if its next to our current file, but it isn't. It's inside Vite's <code>public</code> folder. You can refer to those files as if you're current component in inside the <code>public</code> folder. This holds for <code>&lt;link&gt;</code>, <code>&lt;img&gt;</code>, <code>&lt;a&gt;</code> tags and what not. Go crazy <img class=\"emoji\" draggable=\"false\" alt=\"🤪\" src=\"https://twemoji.maxcdn.com/v/13.0.1/svg/1f92a.svg\">!</p>\n</blockquote>\n<h1 id=\"The-Dock\"><a class=\"heading-link\" href=\"blog/macos-dock-animation-svelte#The-Dock\">#</a>The Dock</h1>\n<p>So let's set up the actual <code>Dock.svelte</code> component.</p>\n<p>Here it is <img class=\"emoji\" draggable=\"false\" alt=\"👇\" src=\"https://twemoji.maxcdn.com/v/13.0.1/svg/1f447.svg\"></p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">script</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">lang</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">ts</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">import</span><span style=\"color: #A6ACCD\"> DockItem </span><span style=\"color: #89DDFF\">from</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">./DockItem.svelte</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">;</span></span>\n\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #C792EA\">const</span><span style=\"color: #A6ACCD\"> apps</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #FFCB6B\">string</span><span style=\"color: #A6ACCD\">[] </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #A6ACCD\"> [</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">calendar</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">facetime</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">finder</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">launchpad</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">mail</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">maps</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">messages</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">photos</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">scared-cat</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">safari</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">system-preferences</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">view-source</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  ]</span><span style=\"color: #89DDFF\">;</span></span>\n\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #C792EA\">let</span><span style=\"color: #A6ACCD\"> mouseX</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #FFCB6B\">number</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">|</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #FFCB6B\">null</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">null;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">script</span><span style=\"color: #89DDFF\">&gt;</span></span>\n\n<span class=\"line\"><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">section</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">class</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">dock-container</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">div</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">    </span><span style=\"color: #C792EA\">class</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">dock-el</span><span style=\"color: #89DDFF\">\"</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">    </span><span style=\"color: #C792EA\">on:mousemove</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">{(event) =&gt; (mouseX = event.x)}</span><span style=\"color: #89DDFF\">\"</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">    </span><span style=\"color: #C792EA\">on:mouseleave</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">{() =&gt; (mouseX = null)}</span><span style=\"color: #89DDFF\">\"</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">  &gt;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    {#each apps as appID}</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">DockItem</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">{mouseX}</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">{appID}</span><span style=\"color: #89DDFF\"> /&gt;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    {/each}</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">section</span><span style=\"color: #89DDFF\">&gt;</span></span>\n\n<span class=\"line\"><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">style</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">dock-container</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #B2CCD6\">margin-bottom</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #F78C6C\">0.3rem</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #B2CCD6\">left</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #B2CCD6\">bottom</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #B2CCD6\">z-index</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #F78C6C\">9900</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #B2CCD6\">position</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> fixed</span><span style=\"color: #89DDFF\">;</span></span>\n\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #B2CCD6\">width</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #F78C6C\">100%</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #B2CCD6\">height</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #F78C6C\">5rem</span><span style=\"color: #89DDFF\">;</span></span>\n\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #B2CCD6\">padding</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #F78C6C\">0.4rem</span><span style=\"color: #89DDFF\">;</span></span>\n\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #B2CCD6\">display</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> flex</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #B2CCD6\">justify-content</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> center</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">}</span></span>\n\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">.</span><span style=\"color: #FFCB6B\">dock-el</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">{</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #B2CCD6\">backdrop-filter</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #82AAFF\">blur</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">5px</span><span style=\"color: #89DDFF\">);</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #B2CCD6\">background-color</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #82AAFF\">hsla</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">240</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #F78C6C\">3%</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #F78C6C\">11%</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #F78C6C\">0.4</span><span style=\"color: #89DDFF\">);</span></span>\n\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #B2CCD6\">box-shadow</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> inset </span><span style=\"color: #F78C6C\">0</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #F78C6C\">0</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #F78C6C\">0</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #F78C6C\">0.2px</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #82AAFF\">rgb</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">245</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #F78C6C\">245</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #F78C6C\">245</span><span style=\"color: #A6ACCD\"> / </span><span style=\"color: #F78C6C\">70%</span><span style=\"color: #89DDFF\">),</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #82AAFF\">hsla</span><span style=\"color: #89DDFF\">(</span><span style=\"color: #F78C6C\">0</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #F78C6C\">0%</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #F78C6C\">0%</span><span style=\"color: #89DDFF\">,</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #F78C6C\">0.3</span><span style=\"color: #89DDFF\">)</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #F78C6C\">2px</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #F78C6C\">5px</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #F78C6C\">19px</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #F78C6C\">7px</span><span style=\"color: #89DDFF\">;</span></span>\n\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #B2CCD6\">padding</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #F78C6C\">0.3rem</span><span style=\"color: #89DDFF\">;</span></span>\n\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #B2CCD6\">border-radius</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #F78C6C\">1.2rem</span><span style=\"color: #89DDFF\">;</span></span>\n\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #B2CCD6\">height</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #F78C6C\">100%</span><span style=\"color: #89DDFF\">;</span></span>\n\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #B2CCD6\">display</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> flex</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #B2CCD6\">align-items</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> flex-end</span><span style=\"color: #89DDFF\">;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">}</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">style</span><span style=\"color: #89DDFF\">&gt;</span></span></code></pre>\n<p>Ooh, there's a lot going on here!! Let's break it down.</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #89DDFF\">import</span><span style=\"color: #A6ACCD\"> DockItem </span><span style=\"color: #89DDFF\">from</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">./DockItem.svelte</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">;</span></span>\n\n<span class=\"line\"><span style=\"color: #C792EA\">const</span><span style=\"color: #A6ACCD\"> apps</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #FFCB6B\">string</span><span style=\"color: #A6ACCD\">[] </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #A6ACCD\"> [</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">calendar</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">facetime</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">finder</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">launchpad</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">mail</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">maps</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">messages</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">photos</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">scared-cat</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">safari</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">system-preferences</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">'</span><span style=\"color: #C3E88D\">view-source</span><span style=\"color: #89DDFF\">'</span><span style=\"color: #89DDFF\">,</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">]</span><span style=\"color: #89DDFF\">;</span></span>\n\n<span class=\"line\"><span style=\"color: #C792EA\">let</span><span style=\"color: #A6ACCD\"> mouseX</span><span style=\"color: #89DDFF\">:</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #FFCB6B\">number</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">|</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #FFCB6B\">null</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">=</span><span style=\"color: #A6ACCD\"> </span><span style=\"color: #89DDFF\">null;</span></span></code></pre>\n<ol>\n<li>\n<p>We're importing the <code>DockItem</code> component. It is the heart of the whole demo, as all the animation is handled within it. I'll show you how to write it soon.</p>\n</li>\n<li>\n<p>Next up we have a list of all app IDs. Why are these needed? Because our app icons are stored by these names only, so we can easily <code>&lt;img src=</code> them.</p>\n</li>\n<li>\n<p>And here we have a <code>mouseX</code> variable, which we're gonna be tracking the current x-coordinate of our mouse (Distance of mouse from the left side of the screen). Notice we have defined its type as <code>number</code> or <code>null</code>. It will be <code>null</code> when the mouse isn't on the dock, so as to prevent any unintended resizing of elements. So we initialize it as <code>null</code>.</p>\n</li>\n</ol>\n<p>Now, analyzing the html part:</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">section</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">class</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">dock-container</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">div</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">    </span><span style=\"color: #C792EA\">class</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">dock-el</span><span style=\"color: #89DDFF\">\"</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">    </span><span style=\"color: #C792EA\">on:mousemove</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">{(event) =&gt; (mouseX = event.x)}</span><span style=\"color: #89DDFF\">\"</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">    </span><span style=\"color: #C792EA\">on:mouseleave</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #89DDFF\">\"</span><span style=\"color: #C3E88D\">{() =&gt; (mouseX = null)}</span><span style=\"color: #89DDFF\">\"</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">  &gt;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    {#each apps as appID}</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    </span><span style=\"color: #89DDFF\">&lt;</span><span style=\"color: #F07178\">DockItem</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">{mouseX}</span><span style=\"color: #89DDFF\"> </span><span style=\"color: #C792EA\">{appID}</span><span style=\"color: #89DDFF\"> /&gt;</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">    {/each}</span></span>\n<span class=\"line\"><span style=\"color: #A6ACCD\">  </span><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">div</span><span style=\"color: #89DDFF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #89DDFF\">&lt;/</span><span style=\"color: #F07178\">section</span><span style=\"color: #89DDFF\">&gt;</span></span></code></pre>\n<p>We have a <code>section.dock-container</code> as the container for the whole dock. This itself isn't the dock, it <strong>contains</strong> the dock. Its just an invisible container to center the dock.</p>\n<p>Next here we have the <code>div.dock-el</code>, which is the dock itself.</p>\n<p><img src=\"\" alt=\"\" class=\"feature-image\" style=\"display: none;\"></p><div class=\"picture-container\">\n  <figure style=\"width: 100%;padding-top: 10.299003322259136%;background-color: rgb(83, 16, 29)\">\n    <picture>\n      <source type=\"image/webp\" media=\"(min-width: 501px)\" data-srcset=\"media/macos-dock-animation-svelte--the-dock-itself/large.webp\">\n      <source type=\"image/webp\" media=\"(max-width: 500px)\" data-srcset=\"media/macos-dock-animation-svelte--the-dock-itself/small.webp\">\n      <source type=\"image/png\" media=\"(min-width: 501px)\" data-srcset=\"media/macos-dock-animation-svelte--the-dock-itself/large.png\">\n      <source type=\"image/png\" media=\"(max-width: 500px)\" data-srcset=\"media/macos-dock-animation-svelte--the-dock-itself/small.png\">\n      <img alt=\"Placeholder\" data-src=\"media/macos-dock-animation-svelte--the-dock-itself/large.png\" class=\"lazyload blog-img\">\n    </picture>\n  </figure>\n  </div><p></p>\n<p>Notice the event handlers we have put on this element.</p>\n<pre class=\"shiki\" style=\"background-color: #292D3E\"><code><span class=\"line\"><span style=\"color: #A6ACCD\">on:mousemove=\"{(event) =&gt; (mouseX = event.x)}\"</span></span></code></pre>\n<p>This simply sets</p>\n","id":"macos-dock-animation-svelte","reading_time":2.25,"toc":[{"indent":1,"id":"","title":"That looks way too good for just 100 lines 🧐🧐","length":47},{"indent":0,"id":"","title":"Tech Stack","length":10},{"indent":1,"id":"","title":"What's with Vite? 🤔","length":20},{"indent":0,"id":"","title":"Preliminary setup","length":17},{"indent":0,"id":"","title":"The Dock","length":8}]}